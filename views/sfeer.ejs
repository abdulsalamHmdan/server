<!doctype html>
<html lang="ar" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø£Ø­Ù…Ø¯ Ø§Ù„Ø³ÙÙŠØ± - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>
  <style>
    * {
      box-sizing: border-box;
      /* direction: ltr !important; */
    }

    :root {
      --bg-color: #f4f5f7;
      --card-bg: #ffffff;
      --primary-btn: #5c524d;
      --secondary-btn: #ffffff;
      --text-main: #2d3436;
      --text-muted: #636e72;
      --border-color: #edf2f7;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      /* font-family: "IBM Plex Sans Arabic", system-ui, -apple-system, "SF Pro Display", "SF Pro Text", Arial, sans-serif; */
      /* background-color: var(--bg-color); */
      background:
        radial-gradient(900px 600px at 10% 0%,
          rgba(155, 217, 228, 0.35),
          transparent 60%),
        radial-gradient(900px 700px at 95% 15%,
          rgba(68, 49, 41, 0.14),
          transparent 55%),
        radial-gradient(1100px 700px at 50% 120%,
          rgba(0, 0, 0, 0.04),
          transparent 60%),
        var(--bg-color);
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: var(--text-main);
    }

    .container {
      width: 100%;
      max-width: 500px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* Header Area */
    .header {
      text-align: center;
      margin-bottom: 10px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .header h1 {
      font-size: 1.2rem;
      margin: 0;
    }

    .code-badge {
      background: #fff;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
      display: inline-block;
      margin-bottom: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    /* Card Style */
    .card {
      background: var(--card-bg);
      border-radius: 25px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      position: relative;
    }

    .card-number {
      /* position: absolute; */
      top: 20px;
      right: 20px;
      background: #f8f9fa;
      width: 35px;
      height: 35px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-size: 0.7rem;
      color: #999;
      border: 1px solid #eee;
    }

    .card-title {
      direction: ltr;
      text-align: center;
      margin-top: 10px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .card-title h2 {
      font-size: 1.1rem;
      margin: 0;
      text-align: right;
    }

    .card-title p {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin: 5px 0 15px 0;
    }

    /* Image Placeholder */
    .image-box {
      max-width: 440px;
      height: 250px;
      background: #e2e8f0;
      border-radius: 15px;
      overflow: hidden;
      margin-bottom: 15px;
    }

    .image-box img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Input & Link Styles */
    .link-section {
      background: #fdfdfd;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .link-text {
      font-size: 0.8rem;
      color: #3182ce;
      word-break: break-all;
      margin-left: 10px;
    }

    .message-preview {
      background: #f9f9f9;
      border-radius: 12px;
      padding: 15px;
      font-size: 0.85rem;
      line-height: 1.6;
      color: var(--text-muted);
      margin-bottom: 15px;
      text-align: justify;
    }

    /* Target Grid */
    .target-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }

    .target-item {
      background: #fff;
      border: 1px solid var(--border-color);
      border-radius: 15px;
      padding: 15px;
      text-align: center;
    }

    .target-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      display: block;
    }

    .target-value {
      font-size: 1.2rem;
      font-weight: bold;
      margin-top: 5px;
      display: block;
    }

    input[type="text"],
    input[type="number"] {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border-color);
      border-radius: 10px;
      margin-bottom: 10px;
      box-sizing: border-box;
      background: #fcfcfc;
      text-align: center;
    }

    /* Buttons */
    .btn {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      border: none;
      font-size: 0.95rem;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 10px;
      transition: opacity 0.2s;
    }

    .btn-primary {
      background-color: var(--primary-btn);
      color: white;
    }

    .btn-outline {
      background-color: var(--secondary-btn);
      color: var(--text-main);
      border: 1px solid var(--border-color);
    }

    .btn-logout {
      background-color: white;
      color: #2d3436;
      margin-top: 10px;
    }

    .footer-note {
      font-size: 0.7rem;
      color: #a0aec0;
      text-align: center;
      margin-top: 5px;
    }

    .empty-state {
      padding: 30px;
      text-align: center;
      border: 1px dashed #cbd5e0;
      border-radius: 15px;
      margin-bottom: 15px;
    }

    .cell {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 12px 0;
      border-bottom: 1px solid var(--hairline);
    }

    #tasksList {
      margin: 0;
      padding: 0;
      list-style: none;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="code-badge">
        83923 <span style="opacity: 0.7; font-size: 12px">CODE</span>
      </div>
      <div class="cont">
        <p style="font-size: 0.8rem; color: #718096; margin-bottom: 5px">
          Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ØµØ§Ø­Ø¨ Ø§Ù„Ø£Ø«Ø±
        </p>
        <h1>Ø£Ø­Ù…Ø¯ Ø§Ù„Ø³ÙÙŠØ±</h1>
      </div>
    </div>

    <div class="card">
      <div class="card-title">
        <div class="card-number">001</div>
        <div class="cont">
          <h2>Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±</h2>
          <p>Ø§Ù†Ø³Ø®/Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ ØµÙˆØ±Ø© Ø¬Ø§Ù‡Ø²Ø©</p>
        </div>
      </div>
      <div class="image-box">
        <img src="<%= img%>" alt="Library" />
      </div>
      <div class="link-section">
        <div class="link-text">
          https://capable-lollipop-4fa68c.netlify.app/s/83923?ref=AHM-83923
        </div>
        <button class="btn-outline" style="
              width: auto;
              padding: 5px 15px;
              margin: 0;
              font-size: 0.75rem;
            ">
          Ù†Ø³Ø®
        </button>
      </div>
      <div class="message-preview">
        <%=text%>
      </div>
      <button id="share-btn" class="btn btn-primary">Ù…Ø´Ø§Ø±ÙƒØ©</button>
      <button id="copy-btn" class="btn btn-outline">Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
    </div>

    <div class="card">
      <div class="card-title">
        <div class="card-number">002</div>
        <div class="cont">
          <h2>Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
          <p>Ù…Ø®Ø·Ø· Ø§Ù„Ø§Ø¹Ù…Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</p>
        </div>
      </div>
      <ul class="list" id="tasksList" style="margin-top: 8px" dir="rtl">
        <% dayGoals.forEach(x=>{ %>
          <li class="cell" style="cursor: pointer">
            <div>
              <div class="value"><%=x.goal%></div>
              <div class="label"><%=x.label%></div>
            </div>
            <div style="text-align: left">
              <div class="check">â¬œï¸</div>
            </div>
          </li>
          <%})%>
      </ul>
    </div>
    <div class="card">
      <div class="card-title">
        <div class="card-number">003</div>
        <div class="cont">
          <h2>Ù…Ø³ØªÙ‡Ø¯Ù Ø§Ù„ÙŠÙˆÙ…</h2>
          <p>Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø¨Ø³Ø±Ø¹Ø©</p>
        </div>
      </div>
      <div class="target-grid">
        <div class="target-item">
          <span class="target-label">Ù‡Ø¯Ù Ø§Ù„Ù…Ø¨Ù„Øº</span>
          <span class="target-value" dir="rtl">
            <%= payGoal%> Ø±.Ø³.
          </span>
          <span class="target-label">/ ÙŠÙˆÙ…</span>
        </div>
        <div class="target-item">
          <span class="target-label">Ù‡Ø¯Ù Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚</span>
          <span class="target-value">
            <%= boxGoal%>
          </span>
          <span class="target-label">/ ÙŠÙˆÙ…</span>
        </div>
        <div class="target-item">
          <span class="target-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙŠÙˆÙ…</span>
          <span class="target-value">Ù  Ø±.Ø³.</span>
          <span class="target-label">SAR</span>
        </div>
        <div class="target-item">
          <span class="target-label">Ø§Ù„Ù…Ø­Ù‚Ù‚ Ø§Ù„ÙŠÙˆÙ…</span>
          <span class="target-value">0</span>
          <span class="target-label">ØµÙ†Ø¯ÙˆÙ‚</span>
        </div>
      </div>
      <button class="btn btn-primary">ØªØ­Ø¯ÙŠØ« Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„ÙŠÙˆÙ…</button>
      <button class="btn btn-outline">Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¨ÙˆÙ†</button>
      <p class="footer-note">
        Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ø§ Ø§Ù„ØªØªØ¨Ø¹ Ù…Ø­Ù„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø² (Ø¨Ø¯ÙˆÙ† Ø³ÙŠØ±ÙØ±). Ù„Ùˆ ØªØ¨ÙŠ Ø§Ù„ØªØªØ¨Ø¹ Ù…Ø±ÙƒØ²ÙŠ
        Ù„ÙƒÙ„ Ø§Ù„Ø³ÙØ±Ø§Ø¡ Ù†Ø±Ø¨Ø·Ù‡ Ø¨Ù…Ù„Ù CSV/Google Sheet/Netlify Function.
      </p>
    </div>

    <div class="card">
      <div class="card-number">004</div>
      <div class="card-title">
        <h2>Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ø³Ù‡Ù…ÙŠØ©</h2>
        <p>Ù…ØªØ§Ø¨Ø¹Ø© Ø¥Ù†Ø¬Ø§Ø² ØµÙ†Ø§Ø¯ÙŠÙ‚Ùƒ Ù…Ù† Ø±ÙˆØ§Ø¨Ø· donate.utq.org.sa</p>
      </div>
      <div class="empty-state">
        <p style="color: #a0aec0; font-size: 0.9rem">Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ø³Ù‡Ù…ÙŠØ©</p>
        <p style="font-weight: bold">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ÙˆØ§Ø¨Ø·</p>
      </div>

      <button class="btn btn-outline">ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ„</button>
    </div>

    <button class="btn btn-outline btn-logout">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
  </div>
</body>
<script defer>
  const shareBtn = document.querySelector("#share-btn");
  const copyBtn = document.querySelector("#copy-btn");

  shareBtn.addEventListener("click", async () => {
    const imageUrl = "/img/a.png";
    const shareText = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± ğŸŒ¿ | Ù‡Ø°Ø§ Ø§Ù„Ù†Øµ Ø³ÙŠØ¸Ù‡Ø± ØªØ­Øª Ø§Ù„ØµÙˆØ±Ø©";

    // Ø§Ù„ØªØ£ÙƒØ¯ Ø£ÙˆÙ„Ø§Ù‹ Ø£Ù† Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ¯Ø¹Ù… Ø£Ø³Ø§Ø³Ø§Ù‹ Ø®Ø§ØµÙŠØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
    if (!navigator.share) {
      alert("Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØªØµÙØ­ Ø­Ø¯ÙŠØ« Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ.");
      return;
    }

    try {
      const response = await fetch(imageUrl);
      const blob = await response.blob();
      const file = new File([blob], "share_image.png", { type: "image/png" });

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ù…Ø´Ø§Ø±ÙƒØ© "Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ¯"
      if (navigator.canShare && navigator.canShare({ files: [file] })) {
        await navigator.share({
          files: [file],
          text: shareText,
          title: "Ø±Ø³Ø§Ù„Ø© Ù†Ø´Ø±", // Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª ØªØ·Ù„Ø¨ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        });
      } else {
        // Ø¥Ø°Ø§ ÙØ´Ù„ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù„ÙØŒ Ù†ÙƒØªÙÙŠ Ø¨Ø§Ù„Ù†Øµ (Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ)
        await navigator.share({
          text: shareText,
        });
      }
    } catch (error) {
      console.error("ÙØ´Ù„Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:", error);
      // ÙÙŠ Ø­Ø§Ù„ Ø­Ø¯ÙˆØ« Ø®Ø·Ø£ ÙÙŠ Fetch (CORS Ù…Ø«Ù„Ø§Ù‹)ØŒ Ø´Ø§Ø±Ùƒ Ø§Ù„Ù†Øµ ÙÙ‚Ø·
      navigator.share({ text: shareText }).catch(() => { });
    }
  });

  document.querySelectorAll(".cell").forEach(x => {
    x.addEventListener('click', () => {
      if (x.querySelector(".check").innerHTML == "âœ…") {
        x.querySelector(".check").innerHTML = "â¬œï¸"

      } else {
        x.querySelector(".check").innerHTML = "âœ…"

      }
    })
  })

  // copyBtn.addEventListener("click", () => {
  //   const message = `Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± ğŸŒ¿| Ù‚Ø¯ ÙŠØºÙŠØ¨ Ø¹Ù†Ùƒ Ø£Ø«Ø±Ùƒ Ù…Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚ØªØŒ Ù„ÙƒÙ† Ø£Ø«Ø±Ù‡ Ù„Ø§ ÙŠØºÙŠØ¨Ø› ÙÙƒÙ„ Ø±ÙŠØ§Ù„ ÙŠÙØµØ±Ù ÙÙŠ ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù† ÙŠØ¨Ù‚Ù‰ Ø£Ø¬Ø±Ù‡ Ù…Ù…ØªØ¯Ø§Ù‹ ÙˆÙ…ØªÙ†Ø§Ù…ÙŠØ§Ù‹.. ØªØ¨Ø±Ø¹ Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Øµ...\n\nhttps://capable-lollipop-4fa68c.netlify.app/s/83923?ref=AHM-83923`;
  //   console.log("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!");
  //   navigator.clipboard
  //     .writeText(message)
  //     .then(() => alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!"))
  //     .catch((error) => alert("ÙØ´Ù„ Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©: " + error));
  // });
</script>

</html>